<?
#Classe Authentification pour l'initialisation de la session utilisateur
class Authentification
	{
		private $login;
		private $nom;
		private $prenom;
		private $team;
		private $teamID;
		
		#Constructeur par défaut de la classe Authentification.
		public function Authentification($login_auth, $bdd)
		{
			$reponse = $bdd->query("SELECT User_Login, User_FirstName, User_Name, User_EquipeID, Equipe_Name FROM user INNER JOIN equipe ON equipe.Equipe_ID = user.User_EquipeID WHERE User_Login = '".$login_auth."'");
			$reponse->execute();
			while ($donnees = $reponse->fetch())
			{
				$this->login = $donnees["User_Login"];
				$this->nom = $donnees["User_Name"];
				$this->prenom = $donnees["User_FirstName"];
				$this->team = $donnees["Equipe_Name"];				
			}			
			$reponse->closeCursor();			
		}
		public function __destruct()
		{			
		}
		
		public function getNom()
		{
			return $this->nom;
		}

		public function getPrenom()
		{
			return $this->prenom;
		}

		public function getTeam()
		{
			return $this->team;
		}	
		
		public function getLogin()
		{
			return $this->login;
		}		
	}
?>